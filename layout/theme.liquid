<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{{ page_title }}</title>
  
  {{ content_for_header }}  <!-- Shopify CSS/JS এখানে লোড হয় -->
  <!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


</head>
<body>

  {% section 'header' %}

  {% section 'hero' %}
  {% section 'product-list' %}


  
  {{ content_for_layout }} <!-- এখানে আসবে পেজ কন্টেন্ট -->

  {% section 'footer' %}   <!-- Footer section ডাকা হয়েছে -->

  <!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
 $(document).ready(function () {
  $('.add-to-cart-form').on('submit', function (e) {
    e.preventDefault(); // Stop the form from submitting

    let form = $(this); // Get the specific form
    let formData = {
      id: form.find('input[name="id"]').val(),
      quantity: form.find('input[name="quantity"]').val()
    };

    $.ajax({
      type: 'POST',
      url: '/cart/add.js',
      data: formData,
      dataType: 'json',
      success: function (response) {
        form.find('.add-to-cart-response').html('<p class="text-success">✅ Added to cart!</p>');
        updateCart() ;
      },
      error: function (xhr) {
        form.find('.add-to-cart-response').html('<p class="text-danger">❌ Error!</p>');
        console.log(xhr.responseText);
      }
    });
  });


  function updateCart() {
    $.getJSON('/cart.js', function(cart) {
  console.log(cart);  
  console.log(cart.item_count);  
});
  }



});


</script>

</body>
</html>
